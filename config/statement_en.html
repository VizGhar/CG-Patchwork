<div class="statement_back" id="statement_back" style="display:none"></div>
<div class="statement-body">
    <!-- GOAL -->
    <div class="statement-section statement-goal">
        <h1>
            <span class="icon icon-goal">&nbsp;</span>
            <span>The Goal</span>
        </h1>
        <div class="statement-goal-content">
            Become the master of patchworking by filling your quilt canvas with patches. Be careful! Every patch costs
            you a few <strong>Buttons</strong> and it also takes some <strong>Time</strong> to sew it on your canvas.
            Those are your most valuable resources<br><br>
            This game is heavily inspired by 2 player board game <a
                href="https://boardgamegeek.com/boardgame/163412/patchwork">Patchwork</a>.
        </div>
    </div>
    <!-- RULES -->
    <div class="statement-section statement-rules">
        <h1>
            <span class="icon icon-rules">&nbsp;</span>
            <span>Rules</span>
        </h1>
        <div>
            <div class="statement-rules-content">
                This is turn based game but players do not necessarily alternate between turns. The player who is
                furthest behind on the <strong>Timeline</strong> takes his turn. This may result in a player taking
                multiple turns
                in a row before his opponent can take one. If there are both time tokens on same spot, player that
                played last move takes his turn.<br><br>
                Your goal is to collect more <strong>Buttons</strong> than your opponent and to cover as much of your
                quilt board with patches as possible. Uncovered squares on quilt board will cost you
                <const>2</const>
                <strong>Buttons</strong> per piece
                at the end of the game.<br><br>
                On your turn, you carry out one of the following actions:
                <ul>
                    <li>Advance and Receive Buttons using
                        <const>SKIP</const>
                        command
                    </li>
                    <li>Take and Place a Patch using
                        <const>PLAY</const>
                        command
                    </li>
                </ul>
            </div>
        </div>
        <br>
        <h1>
            <span>Advance and Receive Buttons - the <const>SKIP</const> command</span>
        </h1>
        <div class="statement-rules-content">
            Your <strong>Time</strong> token will move on the <strong>Timeline</strong> so that it occupies the space
            directly in front of your
            opponent's time token. You receive
            <const>1</const>
            <strong>Button</strong> per space your time token moves.
        </div>
        <br>
        <h1>
            <span>Take and Place a Patch - the <const>PLAY</const> command</span>
        </h1>
        <div class="statement-rules-content">
            This action consists of a few step:
            <ul>
                <li>Choose from the available <strong>Patches</strong> and place it on board</li>
                <li>Pay the depicted number of <strong>Buttons</strong> to the supply</li>
                <li>Move your <strong>Time</strong> token on the time board by a number of spaces as depicted on the
                    label
                </li>
            </ul>
            <strong>Patches</strong> can be rotated in any way - flipped (horizontally) and/or rotated right (clockwise)
            <const>0</const>
            ,
            <const>1</const>
            ,
            <const>2</const>
            or
            <const>3</const>
            times. Patch can be placed anywhere on board as far as it won't cover already placed patches. First player
            to
            fully cover 7x7 square of quill board will receive <strong>Bonus Tile</strong> for
            <const>7</const>
            points counted towards final score.

            <br/>
            On following image you can see all possible configurations for one of the patches. First number is number of
            rotations, second number represents whether patch should be flipped horizontally or not. Flipping has higher
            priority than rotations.<br/>

            <img alt="Patch rotations"
                 src="https://cdn-games.codingame.com/community/3996809-1661712962734/c33827701085c73ca8f0da9723f61879555086f326a068e6736eb8cc886f3168.png">
        </div>
        <br>
        <h1>
            <span>Timeline</span>
        </h1>
        <div class="statement-rules-content">
            <strong>Timeline</strong> consists of starting point and
            <const>53</const>
            time points. Regardless of the action you take, you always move your time token on the time board. Some
            spaces of the time board are marked (<var>WIP - visual not yet ready</var>). Whenever you move onto or past
            one of those spaces, resolve the corresponding event:
            <ul>
                <li><strong>Special Patch</strong>:
                    <const>PLAY</const>
                    the special patch and place it on your quilt board. The special patches are the only way to "patch"
                    single spaces of your quilt board. If you receive the <strong>Special Patch</strong>, you will have
                    to resolve it in next turn. Playing special patch cannot be
                    <const>SKIP</const>
                    -ped
                </li>
                <li><strong>Button Income</strong>: You receive a number of buttons according to the patches on your
                    quilt board.
                </li>
            </ul>
        </div>

        <h1>
            <span class="icon icon-rules">&nbsp;</span>
            <span>End of the game and scoring</span>
        </h1>
        <div class="statement-rules-content">
            The game ends after both time tokens reach the last point of the <strong>Timeline</strong>. If a time token
            were to move past the last space, it simply stops on the last space. In case of
            <const>SKIP</const>
            action, you only receive buttons for the actual number of spaces moved.<br><br>
            Starting with
            <const>200</const>
            points
            <ul>
                <li>Add
                    <const>1</const>
                    point for each <strong>Button</strong> you have left
                </li>
                <li>Add
                    <const>7</const>
                    if you own <strong>Bonus Tile</strong></li>
                <li>Subtract
                    <const>2</const>
                    points for each empty space of your quilt board
                </li>
            </ul>
            The player with the higher score wins. In case of a tie, the player who got to the final time point of the time
            board first wins.
        </div>

        <!-- Victory conditions -->
        <div class="statement-victory-conditions">
            <div class="icon victory"></div>
            <div class="blk">
                <div class="title">Victory Conditions</div>
                <div class="text">
                    <ul style="padding-top:0; padding-bottom: 0;">
                        <li>You have more points at the end of the game or</li>
                        <li>You have same amount of points at the end of the game and you got to time point first</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- Lose conditions -->
        <div class="statement-lose-conditions">
            <div class="icon lose"></div>
            <div class="blk">
                <div class="title">Defeat Conditions</div>
                <div class="text">
                    <ul>
                        <li>Unknown command (only
                            <const>SKIP</const>
                            or
                            <const>PLAY</const>
                            are allowed)
                        </li>
                        <li>
                            <const>SKIP</const>
                            while holding <strong>Special Patch</strong></li>
                        <li>
                            <const>PLAY</const>
                            unavailable or non-existent patch
                        </li>
                        <li>
                            <const>PLAY</const>
                            patch with invalid placement (outside quilt board/overlaping other patch)
                        </li>
                        <li>
                            <const>PLAY</const>
                            patch you have no money for
                        </li>
                        <li>Your opponent have more points at the end of the game or he has same amount of points but
                            finishes first
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
    <!-- EXPERT RULES -->
    <div class="statement-section statement-expertrules">
        <h1>
            <span class="icon icon-expertrules">&nbsp;</span>
            <span>Expert Rules</span>
        </h1>
        <div class="statement-expert-rules-content">
            Source code on <a href="https://github.com/VizGhar/CG-Patchwork">GitHub</a>.
        </div>
    </div>
    <!-- PROTOCOL -->
    <div class="statement-section statement-protocol">
        <h1>
            <span class="icon icon-protocol">&nbsp;</span>
            <span>Game Input/Output</span>
        </h1>
        <!-- Protocol block -->
        <div class="blk">
            <div class="title">Initialization Input</div>
            <div class="text">
                <p><span class="statement-lineno">Line 1: </span> 1 integer <var>incomeEvents</var> how many
                    "Button Income" events are there on Time Board</p>
                <p><span class="statement-lineno">Line 2: </span> <var>incomeEvents</var> integers of
                    <var>incomeTime</var>
                    when the "Button income" event will occur</p>
                <p><span class="statement-lineno">Line 3: </span> 1 integer <var>patchEvents</var> how many
                    "Special Patch" events are there on Time Board</p>
                <p><span class="statement-lineno">Line 4: </span> <var>patchEvents</var> integers of
                    <var>patchTime</var>
                    when the "Special Patch" event will occur</p>
                <p><span class="statement-lineno">Line 5: </span><var>patches</var> - count of patches - always
                    <const>33</const>
                </p>
                <p><span class="statement-lineno">Next <var>patches</var> times:</span> 5 lines containing values: <var>patchId</var>
                    <var>patchEarning</var> <var>patchButtonPrice</var> <var>patchTimePrice</var>
                    <var>patchShape</var></p>
            </div>
        </div>
        <!-- Protocol block -->
        <div class="blk">
            <div class="title">Game turn Input</div>
            <div class="text">
                <p><span class="statement-lineno">Line 1: </span> 2 integers <var>myButtons</var> = amount of
                    buttons you currently own; and <var>myTime</var> = how far is your token on Time Board</p>
                <p><span class="statement-lineno">Line 2: </span> 3 integers <var>opponentButtons</var> = amount of
                    buttons your opponent currently owns; <var>opponentTime</var> = how far is your opponent's
                    token on Timeline</p>
                <p><span class="statement-lineno">Line 3-11: </span> 9 lines representing opponent board -
                    <const>O</const>
                    is taken field
                    <const>.</const>
                    is empty
                </p>
                <p><span class="statement-lineno">Line 12: </span> 1 integer <var>playablePatches</var> = amount of
                    patches you can play if you can afford it (most of the time
                    <const>3</const>
                    during normal turn or
                    <const>1</const>
                    while resolving "Special Patch" event). Exceptionaly well played game by both players might lead to
                    case where only one patch remains.
                </p>
                <p><span class="statement-lineno">Next <var>playablePatches</var> times:</span> 5 lines:
                    <var>patchId</var>
                    <var>patchEarning</var> <var>patchButtonPrice</var> <var>patchTimePrice</var>
                    <var>patchShape</var></p>
                To describe all fields of patch:
                <ul>
                    <li><var>patchId</var> -
                        <const>0 - 32</const>
                        for standard patches or negative for Special Patch
                    </li>
                    <li><var>patchEarning</var> - how much will this patch earn during each "Button income" event
                    </li>
                    <li><var>patchButtonPrice</var> - how much buttons this patch costs</li>
                    <li><var>patchTimePrice</var> - how much time this patch costs</li>
                    <li><var>patchShape</var> - single string representing patch shape as follows:
                        <const>|</const>
                        separates rows of patch. Each rows consists of
                        <const>.</const>
                        and
                        <const>O</const>
                        characters.
                        <const>O</const>
                        means current square is taken by this patch.<br/>
                        So
                        <const>O.O|OOO|O.O</const>
                        represents
                        <const>H</const>
                        shaped patch
                    </li>
                </ul>
            </div>
        </div>

        <!-- Protocol block -->
        <div class="blk">
            <div class="title">Output for one Game Turn</div>
            <div class="text">
                <span class="statement-lineno">A single line</span> with either of 2 actions:
                <ul>
                    <li>
                        <const>SKIP</const>
                    </li>
                    <li>
                        <const>PLAY</const>
                        <var>patchId</var> <var>rotations</var> <var>horizontalFlip</var> <var>x</var> <var>y</var>
                    </li>
                </ul>
            </div>

            <div class="title">Output for one Game Turn</div>
            <div class="text">

                Example of usage:<br>
                <const>PLAY</const>
                <br><var>patchId</var> <br><var>rotate</var> - how many times to rotate patch clockwise<br><var>horizontal_flip</var>
                -
                <const>1</const>
                if pach should be flipped horizontally first<br><var>x</var> and <var>y</var> - coordinates of
                top/left corner after applying transformations<br><br>
                <const>PLAY 3 1 2 6 5</const>
                - places patch with id
                <const>3</const>
                on position
                <const>6</const>
                <const>5</const>
                of you quilt board. The patch will be mirrored and rotated
                <const>2</const>
                time clockwise.
                <br>
            </div>
        </div>
        <!-- Protocol block -->
        <div class="blk">
            <div class="title">Constraints</div>
            <div class="text">
                Duration of first turn -
                <const>1000ms</const>
                <br>
                Duration of game turn -
                <const>50ms</const>
                <br>
            </div>
        </div>
    </div>
</div>
